{"cells":[{"source":"<a href=\"https://www.kaggle.com/code/sagniksanyal/tweet-s-text-classicifaction?scriptVersionId=184375168\" target=\"_blank\"><img align=\"left\" alt=\"Kaggle\" title=\"Open in Kaggle\" src=\"https://kaggle.com/static/images/open-in-kaggle.svg\"></a>","metadata":{},"cell_type":"markdown"},{"cell_type":"code","execution_count":1,"id":"c75040cb","metadata":{"_cell_guid":"b1076dfc-b9ad-4769-8c92-a6c4dae69d19","_uuid":"8f2839f25d086af736a60e9eeb907d3b93b6e0e5","execution":{"iopub.execute_input":"2024-06-19T12:10:25.281504Z","iopub.status.busy":"2024-06-19T12:10:25.275748Z","iopub.status.idle":"2024-06-19T12:10:25.29154Z","shell.execute_reply":"2024-06-19T12:10:25.290641Z","shell.execute_reply.started":"2022-02-08T05:59:41.290405Z"},"papermill":{"duration":0.045332,"end_time":"2024-06-19T12:10:25.291747","exception":false,"start_time":"2024-06-19T12:10:25.246415","status":"completed"},"tags":[]},"outputs":[{"name":"stdout","output_type":"stream","text":["/kaggle/input/the-social-dilemma-tweets/TheSocialDilemma.csv\n"]}],"source":["# This Python 3 environment comes with many helpful analytics libraries installed\n","# It is defined by the kaggle/python Docker image: https://github.com/kaggle/docker-python\n","# For example, here's several helpful packages to load\n","\n","import numpy as np # linear algebra\n","import pandas as pd # data processing, CSV file I/O (e.g. pd.read_csv)\n","\n","# Input data files are available in the read-only \"../input/\" directory\n","# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n","\n","import os\n","for dirname, _, filenames in os.walk('/kaggle/input'):\n","    for filename in filenames:\n","        print(os.path.join(dirname, filename))\n","\n","# You can write up to 20GB to the current directory (/kaggle/working/) that gets preserved as output when you create a version using \"Save & Run All\" \n","# You can also write temporary files to /kaggle/temp/, but they won't be saved outside of the current session"]},{"cell_type":"code","execution_count":2,"id":"fcc43db1","metadata":{"execution":{"iopub.execute_input":"2024-06-19T12:10:25.343743Z","iopub.status.busy":"2024-06-19T12:10:25.338466Z","iopub.status.idle":"2024-06-19T12:10:36.752622Z","shell.execute_reply":"2024-06-19T12:10:36.751776Z","shell.execute_reply.started":"2022-02-08T05:59:41.312954Z"},"papermill":{"duration":11.441169,"end_time":"2024-06-19T12:10:36.752801","exception":false,"start_time":"2024-06-19T12:10:25.311632","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["/opt/conda/lib/python3.7/site-packages/geopandas/_compat.py:115: UserWarning: The Shapely GEOS version (3.9.1-CAPI-1.14.2) is incompatible with the GEOS version PyGEOS was compiled with (3.10.1-CAPI-1.16.0). Conversions between both will be slow.\n","  shapely_geos_version, geos_capi_version_string\n"]}],"source":["import tensorflow as tf\n","from tensorflow.keras.preprocessing.sequence import pad_sequences\n","from tensorflow.keras.layers import Embedding, LSTM, Dense, Bidirectional\n","from tensorflow.keras.preprocessing.text import Tokenizer\n","from tensorflow.keras.models import Sequential\n","from tensorflow.keras.optimizers import Adam\n","from tensorflow.keras.preprocessing.text import Tokenizer\n","from tensorflow.keras.preprocessing.sequence import pad_sequences\n","import numpy as np\n","import pandas as pd\n","import re\n","import matplotlib.pyplot as plt\n","\n","import os\n","import itertools\n","import plotly.figure_factory as ff\n","from plotly.colors import n_colors\n","from plotly.subplots import make_subplots\n","from tensorflow.keras.preprocessing.text import Tokenizer\n","from tensorflow.keras.models import Sequential\n","from tensorflow.keras.optimizers import Adam\n","from tensorflow.keras.preprocessing.text import Tokenizer\n","from tensorflow.keras.preprocessing.sequence import pad_sequences\n","import numpy as np\n","import pandas as pd\n","import re\n","import matplotlib.pyplot as plt\n","\n","from wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\n","from sklearn.feature_extraction.text import CountVectorizer\n","\n","from PIL import Image\n","from nltk.corpus import stopwords\n","stop=set(stopwords.words('english'))\n","from nltk.util import ngrams\n","\n","import plotly.express as px\n","import plotly.graph_objects as go\n","import re\n","from collections import Counter\n","\n","import nltk\n","from nltk.corpus import stopwords\n","\n","import requests\n","import json\n","\n","import seaborn as sns\n","sns.set(rc={'figure.figsize':(11.7,8.27)})"]},{"cell_type":"code","execution_count":3,"id":"69d755a6","metadata":{"execution":{"iopub.execute_input":"2024-06-19T12:10:36.802401Z","iopub.status.busy":"2024-06-19T12:10:36.801533Z","iopub.status.idle":"2024-06-19T12:10:37.638935Z","shell.execute_reply":"2024-06-19T12:10:37.638133Z","shell.execute_reply.started":"2022-02-08T05:59:41.335141Z"},"papermill":{"duration":0.865184,"end_time":"2024-06-19T12:10:37.639096","exception":false,"start_time":"2024-06-19T12:10:36.773912","status":"completed"},"tags":[]},"outputs":[{"name":"stdout","output_type":"stream","text":["X_train shape: (16054,)\n","y_train shape: (16054,)\n","X_test shape: (4014,)\n","y_test shape: (4014,)\n","Length of text: 16054 characters\n","Max tweet length: 144\n","Min tweet length: 0\n","Average tweet length: 93.82534383097469\n"]}],"source":["file_path = '/kaggle/input/the-social-dilemma-tweets/TheSocialDilemma.csv'\n","data = pd.read_csv(file_path)\n","data = data[['text', 'Sentiment']]\n","data.head()\n","\n","def clean_text(text):\n","  text = text.lower()\n","  text = re.sub('\\[.*?\\]', '', text)\n","  text = re.sub('https?://\\S+|www\\.\\S+', '', text)\n","  text = re.sub('\\n', '', text)\n","  text = \" \".join(filter(lambda x:x[0]!=\"@\", text.split()))\n","  return text\n","data['text'] = data['text'].apply(lambda x: clean_text(x))\n","\n","X = data['text']\n","y = data['Sentiment'].map({'Negative':0, 'Neutral':1, 'Positive':2})\n","\n","train_size = int(len(data)*0.8)\n","X_train, y_train = X[:train_size], y[:train_size]\n","X_test, y_test = X[train_size:], y[train_size:]\n","print(\"X_train shape:\", X_train.shape)\n","print(\"y_train shape:\", y_train.shape)\n","print(\"X_test shape:\", X_test.shape)\n","print(\"y_test shape:\", y_test.shape)\n","\n","print ('Length of text: {} characters'.format(len(X_train)))\n","\n","print(\"Max tweet length:\", X.map(len).max())\n","print(\"Min tweet length:\", X.map(len).min())\n","print(\"Average tweet length:\", X.map(len).mean())"]},{"cell_type":"code","execution_count":4,"id":"0e28b84f","metadata":{"execution":{"iopub.execute_input":"2024-06-19T12:10:37.763839Z","iopub.status.busy":"2024-06-19T12:10:37.727689Z","iopub.status.idle":"2024-06-19T12:10:38.987049Z","shell.execute_reply":"2024-06-19T12:10:38.987625Z","shell.execute_reply.started":"2022-02-08T05:59:41.82704Z"},"papermill":{"duration":1.329142,"end_time":"2024-06-19T12:10:38.987832","exception":false,"start_time":"2024-06-19T12:10:37.65869","status":"completed"},"tags":[]},"outputs":[{"name":"stdout","output_type":"stream","text":["Shape of train_padded: (16054, 90)\n","Shape of test_padded: (4014, 90)\n"]}],"source":["vocab_size = 8000\n","embedding_dim = 32\n","max_length = 90\n","tokenizer = Tokenizer(vocab_size)\n","tokenizer.fit_on_texts(X_train)\n","word_index = tokenizer.word_index\n","\n","train_sequences = tokenizer.texts_to_sequences(X_train)\n","train_padded = pad_sequences(train_sequences, maxlen=max_length, padding='pre', truncating='pre')\n","test_sequences = tokenizer.texts_to_sequences(X_test)\n","test_padded = pad_sequences(test_sequences, maxlen=max_length, padding='pre', truncating='pre')\n","\n","print(\"Shape of train_padded:\", train_padded.shape)\n","print(\"Shape of test_padded:\", test_padded.shape)"]},{"cell_type":"code","execution_count":5,"id":"6e615f1b","metadata":{"execution":{"iopub.execute_input":"2024-06-19T12:10:39.037707Z","iopub.status.busy":"2024-06-19T12:10:39.035791Z","iopub.status.idle":"2024-06-19T12:12:50.758652Z","shell.execute_reply":"2024-06-19T12:12:50.757418Z","shell.execute_reply.started":"2022-02-08T05:59:42.912586Z"},"papermill":{"duration":131.751165,"end_time":"2024-06-19T12:12:50.758838","exception":false,"start_time":"2024-06-19T12:10:39.007673","status":"completed"},"tags":[]},"outputs":[{"name":"stdout","output_type":"stream","text":["Model: \"sequential\"\n","_________________________________________________________________\n","Layer (type)                 Output Shape              Param #   \n","=================================================================\n","embedding (Embedding)        (None, 90, 32)            256000    \n","_________________________________________________________________\n","lstm (LSTM)                  (None, 100)               53200     \n","_________________________________________________________________\n","dense (Dense)                (None, 45)                4545      \n","_________________________________________________________________\n","dropout (Dropout)            (None, 45)                0         \n","_________________________________________________________________\n","dense_1 (Dense)              (None, 3)                 138       \n","=================================================================\n","Total params: 313,883\n","Trainable params: 313,883\n","Non-trainable params: 0\n","_________________________________________________________________\n","Epoch 1/30\n","502/502 [==============================] - 9s 9ms/step - loss: 0.6568 - accuracy: 0.7457 - val_loss: 0.3848 - val_accuracy: 0.8789\n","Epoch 2/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.2873 - accuracy: 0.9177 - val_loss: 0.3099 - val_accuracy: 0.9121\n","Epoch 3/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.2163 - accuracy: 0.9445 - val_loss: 0.3416 - val_accuracy: 0.9190\n","Epoch 4/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.1790 - accuracy: 0.9570 - val_loss: 0.3354 - val_accuracy: 0.9178\n","Epoch 5/30\n","502/502 [==============================] - 4s 9ms/step - loss: 0.1553 - accuracy: 0.9646 - val_loss: 0.4096 - val_accuracy: 0.9076\n","Epoch 6/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.1313 - accuracy: 0.9686 - val_loss: 0.4711 - val_accuracy: 0.9165\n","Epoch 7/30\n","502/502 [==============================] - 4s 9ms/step - loss: 0.1185 - accuracy: 0.9722 - val_loss: 0.5414 - val_accuracy: 0.9061\n","Epoch 8/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.1034 - accuracy: 0.9766 - val_loss: 0.5395 - val_accuracy: 0.9073\n","Epoch 9/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0942 - accuracy: 0.9791 - val_loss: 0.6447 - val_accuracy: 0.9053\n","Epoch 10/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0842 - accuracy: 0.9814 - val_loss: 0.5610 - val_accuracy: 0.9023\n","Epoch 11/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0705 - accuracy: 0.9814 - val_loss: 0.7695 - val_accuracy: 0.9021\n","Epoch 12/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0716 - accuracy: 0.9844 - val_loss: 0.7738 - val_accuracy: 0.8989\n","Epoch 13/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0649 - accuracy: 0.9839 - val_loss: 0.8280 - val_accuracy: 0.8921\n","Epoch 14/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0650 - accuracy: 0.9857 - val_loss: 0.7635 - val_accuracy: 0.9063\n","Epoch 15/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0642 - accuracy: 0.9864 - val_loss: 1.0032 - val_accuracy: 0.9148\n","Epoch 16/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0596 - accuracy: 0.9866 - val_loss: 0.8800 - val_accuracy: 0.9086\n","Epoch 17/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0523 - accuracy: 0.9870 - val_loss: 0.9603 - val_accuracy: 0.9006\n","Epoch 18/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0518 - accuracy: 0.9882 - val_loss: 1.1272 - val_accuracy: 0.8961\n","Epoch 19/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0525 - accuracy: 0.9877 - val_loss: 0.9036 - val_accuracy: 0.9101\n","Epoch 20/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0526 - accuracy: 0.9884 - val_loss: 1.0859 - val_accuracy: 0.8956\n","Epoch 21/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0447 - accuracy: 0.9899 - val_loss: 1.1231 - val_accuracy: 0.9011\n","Epoch 22/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0500 - accuracy: 0.9902 - val_loss: 1.1383 - val_accuracy: 0.8814\n","Epoch 23/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0376 - accuracy: 0.9912 - val_loss: 0.8987 - val_accuracy: 0.8984\n","Epoch 24/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0410 - accuracy: 0.9901 - val_loss: 0.9624 - val_accuracy: 0.8847\n","Epoch 25/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0450 - accuracy: 0.9896 - val_loss: 1.0205 - val_accuracy: 0.8979\n","Epoch 26/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0359 - accuracy: 0.9911 - val_loss: 1.3358 - val_accuracy: 0.9026\n","Epoch 27/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0447 - accuracy: 0.9918 - val_loss: 1.1265 - val_accuracy: 0.8994\n","Epoch 28/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0434 - accuracy: 0.9905 - val_loss: 1.2381 - val_accuracy: 0.8924\n","Epoch 29/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0430 - accuracy: 0.9913 - val_loss: 1.2092 - val_accuracy: 0.8881\n","Epoch 30/30\n","502/502 [==============================] - 4s 8ms/step - loss: 0.0368 - accuracy: 0.9918 - val_loss: 1.1924 - val_accuracy: 0.8829\n"]}],"source":["model = Sequential([\n","                    tf.keras.layers.Embedding(vocab_size, embedding_dim, input_length=max_length),\n","                    tf.keras.layers.LSTM(100),\n","                    tf.keras.layers.Dense(max_length/2, activation='relu', kernel_regularizer=tf.keras.regularizers.l2(0.001)),\n","                    tf.keras.layers.Dropout(0.4),\n","                    tf.keras.layers.Dense(3, activation='softmax')\n","])\n","model.summary()\n","\n","lr_schedule = tf.keras.optimizers.schedules.ExponentialDecay(\n","    0.01,\n","    decay_steps=10000,\n","    decay_rate=0.95,\n","    staircase=True\n",")\n","\n","model.compile(optimizer=tf.keras.optimizers.RMSprop(learning_rate = lr_schedule),\n","              loss='sparse_categorical_crossentropy',\n","              metrics=['accuracy'])\n","\n","history = model.fit(train_padded, y_train, epochs=30, validation_data=(test_padded, y_test))"]},{"cell_type":"code","execution_count":6,"id":"914344ea","metadata":{"execution":{"iopub.execute_input":"2024-06-19T12:12:52.437514Z","iopub.status.busy":"2024-06-19T12:12:52.436479Z","iopub.status.idle":"2024-06-19T12:12:52.861199Z","shell.execute_reply":"2024-06-19T12:12:52.860377Z","shell.execute_reply.started":"2022-02-08T06:02:21.143344Z"},"papermill":{"duration":1.259159,"end_time":"2024-06-19T12:12:52.861384","exception":false,"start_time":"2024-06-19T12:12:51.602225","status":"completed"},"tags":[]},"outputs":[{"name":"stdout","output_type":"stream","text":["(1, 90)\n","[[0. 0. 1.]]\n"]}],"source":["def get_encode(x):\n","  #x = clean_text(x)\n","  x = tokenizer.texts_to_sequences(x)\n","  x = tf.keras.preprocessing.sequence.pad_sequences(x, maxlen=max_length, padding='pre', truncating='pre')\n","  return x\n","\n","test_comment = ['This movie depicted the current society issues so well, I loved it so much']\n","\n","seq = tokenizer.texts_to_sequences(test_comment)\n","padded = pad_sequences(seq, maxlen=max_length, padding='pre', truncating='pre')\n","print(padded.shape)\n","y_pred = model.predict(padded).round()\n","print(y_pred)"]},{"cell_type":"code","execution_count":7,"id":"8f23aeeb","metadata":{"execution":{"iopub.execute_input":"2024-06-19T12:12:54.496546Z","iopub.status.busy":"2024-06-19T12:12:54.495783Z","iopub.status.idle":"2024-06-19T12:12:54.687361Z","shell.execute_reply":"2024-06-19T12:12:54.687931Z","shell.execute_reply.started":"2022-02-08T06:02:21.593098Z"},"papermill":{"duration":0.997418,"end_time":"2024-06-19T12:12:54.688122","exception":false,"start_time":"2024-06-19T12:12:53.690704","status":"completed"},"tags":[]},"outputs":[],"source":["file_path=(\"../input/the-social-dilemma-tweets/TheSocialDilemma.csv\")\n","social = pd.read_csv(file_path)"]},{"cell_type":"code","execution_count":8,"id":"3998a722","metadata":{"execution":{"iopub.execute_input":"2024-06-19T12:12:56.30719Z","iopub.status.busy":"2024-06-19T12:12:56.306474Z","iopub.status.idle":"2024-06-19T12:12:56.325692Z","shell.execute_reply":"2024-06-19T12:12:56.325093Z","shell.execute_reply.started":"2022-02-08T06:02:21.752841Z"},"papermill":{"duration":0.828676,"end_time":"2024-06-19T12:12:56.325843","exception":false,"start_time":"2024-06-19T12:12:55.497167","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>text</th>\n","      <th>Sentiment</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>10741</th>\n","      <td>@JimBelushi @JimBelushi We agree it's a must s...</td>\n","      <td>Positive</td>\n","    </tr>\n","    <tr>\n","      <th>10744</th>\n","      <td>@Pink @Pink It's a must watch and demonstrates...</td>\n","      <td>Positive</td>\n","    </tr>\n","    <tr>\n","      <th>10847</th>\n","      <td>@SwarnaPrakashM1 @HumaneTech_ @NetflixIndia @S...</td>\n","      <td>Positive</td>\n","    </tr>\n","    <tr>\n","      <th>10850</th>\n","      <td>@mindfulmeeps @YouTube @mindfulmeeps Why keepi...</td>\n","      <td>Positive</td>\n","    </tr>\n","    <tr>\n","      <th>10975</th>\n","      <td>@IrishinSocal @IrishinSocal A must watch. OurP...</td>\n","      <td>Positive</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>15610</th>\n","      <td>@ProtonMail @netflix @ProtonMail OurPact has b...</td>\n","      <td>Positive</td>\n","    </tr>\n","    <tr>\n","      <th>15611</th>\n","      <td>@rainnwilson @rainnwilson OurPact has been kee...</td>\n","      <td>Positive</td>\n","    </tr>\n","    <tr>\n","      <th>15612</th>\n","      <td>@Independent @Independent OurPact has been kee...</td>\n","      <td>Positive</td>\n","    </tr>\n","    <tr>\n","      <th>15613</th>\n","      <td>@YonceVocals @YonceVocals OurPact has been kee...</td>\n","      <td>Positive</td>\n","    </tr>\n","    <tr>\n","      <th>15615</th>\n","      <td>@Alyssa_Milano @Alyssa_Milano OurPact has been...</td>\n","      <td>Positive</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>218 rows Ã— 2 columns</p>\n","</div>"],"text/plain":["                                                    text Sentiment\n","10741  @JimBelushi @JimBelushi We agree it's a must s...  Positive\n","10744  @Pink @Pink It's a must watch and demonstrates...  Positive\n","10847  @SwarnaPrakashM1 @HumaneTech_ @NetflixIndia @S...  Positive\n","10850  @mindfulmeeps @YouTube @mindfulmeeps Why keepi...  Positive\n","10975  @IrishinSocal @IrishinSocal A must watch. OurP...  Positive\n","...                                                  ...       ...\n","15610  @ProtonMail @netflix @ProtonMail OurPact has b...  Positive\n","15611  @rainnwilson @rainnwilson OurPact has been kee...  Positive\n","15612  @Independent @Independent OurPact has been kee...  Positive\n","15613  @YonceVocals @YonceVocals OurPact has been kee...  Positive\n","15615  @Alyssa_Milano @Alyssa_Milano OurPact has been...  Positive\n","\n","[218 rows x 2 columns]"]},"execution_count":8,"metadata":{},"output_type":"execute_result"}],"source":["social[social['user_name']=='OurPact'][['text','Sentiment']]"]},{"cell_type":"code","execution_count":9,"id":"3cf212ba","metadata":{"execution":{"iopub.execute_input":"2024-06-19T12:12:57.941418Z","iopub.status.busy":"2024-06-19T12:12:57.940525Z","iopub.status.idle":"2024-06-19T12:12:57.943905Z","shell.execute_reply":"2024-06-19T12:12:57.944482Z","shell.execute_reply.started":"2022-02-08T06:02:21.776845Z"},"papermill":{"duration":0.819287,"end_time":"2024-06-19T12:12:57.944674","exception":false,"start_time":"2024-06-19T12:12:57.125387","status":"completed"},"tags":[]},"outputs":[{"data":{"text/plain":["Positive    213\n","Neutral       4\n","Negative      1\n","Name: Sentiment, dtype: int64"]},"execution_count":9,"metadata":{},"output_type":"execute_result"}],"source":["social[social['user_name']=='OurPact']['Sentiment'].value_counts()"]},{"cell_type":"code","execution_count":10,"id":"08ef32cd","metadata":{"execution":{"iopub.execute_input":"2024-06-19T12:12:59.583278Z","iopub.status.busy":"2024-06-19T12:12:59.582464Z","iopub.status.idle":"2024-06-19T12:13:00.113901Z","shell.execute_reply":"2024-06-19T12:13:00.114512Z","shell.execute_reply.started":"2022-02-08T06:02:21.796406Z"},"papermill":{"duration":1.360635,"end_time":"2024-06-19T12:13:00.114711","exception":false,"start_time":"2024-06-19T12:12:58.754076","status":"completed"},"tags":[]},"outputs":[{"data":{"image/png":"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\n","text/plain":["<Figure size 842.4x595.44 with 1 Axes>"]},"metadata":{},"output_type":"display_data"}],"source":["social['user_created'] = pd.to_datetime(social['user_created'])\n","social['year_created'] = social['user_created'].dt.year\n","data = social.drop_duplicates(subset='user_name', keep=\"first\")\n","data = data[data['year_created']>1970]\n","data = data['year_created'].value_counts().reset_index()\n","data.columns = ['year', 'number']\n","\n","fig = sns.barplot( \n","    x=data[\"year\"], \n","    y=data[\"number\"], \n","    orientation='vertical'\n","    #title='', \n",").set_title('User created year by year')"]},{"cell_type":"code","execution_count":11,"id":"c8075736","metadata":{"execution":{"iopub.execute_input":"2024-06-19T12:13:01.777015Z","iopub.status.busy":"2024-06-19T12:13:01.776037Z","iopub.status.idle":"2024-06-19T12:13:02.463339Z","shell.execute_reply":"2024-06-19T12:13:02.46261Z","shell.execute_reply.started":"2022-02-08T06:02:22.905958Z"},"papermill":{"duration":1.538245,"end_time":"2024-06-19T12:13:02.463489","exception":false,"start_time":"2024-06-19T12:13:00.925244","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["        <script type=\"text/javascript\">\n","        window.PlotlyConfig = {MathJaxConfig: 'local'};\n","        if (window.MathJax) {MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}\n","        if (typeof require !== 'undefined') {\n","        require.undef(\"plotly\");\n","        requirejs.config({\n","            paths: {\n","                'plotly': ['https://cdn.plot.ly/plotly-2.8.3.min']\n","            }\n","        });\n","        require(['plotly'], function(Plotly) {\n","            window._Plotly = Plotly;\n","        });\n","        }\n","        </script>\n","        "]},"metadata":{},"output_type":"display_data"},{"data":{"text/html":["<div>                            <div id=\"49bc2550-529b-462e-907f-bfd70e960307\" class=\"plotly-graph-div\" style=\"height:600px; width:600px;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"49bc2550-529b-462e-907f-bfd70e960307\")) {                    Plotly.newPlot(                        \"49bc2550-529b-462e-907f-bfd70e960307\",                        [{\"labels\":[\"NA\",\"India\",\"Mumbai, India\",\"Los Angeles, CA\",\"London, England\",\"San Diego, CA\",\"New Delhi, India\",\"London\",\"United States\",\"Canada\",\"New York, NY\",\"Mumbai\",\"Bengaluru, India\",\"Others(<0.5% each)\"],\"values\":[4208.0,385.0,254.0,251.0,250.0,249.0,186.0,179.0,165.0,139.0,138.0,128.0,120.0,13416.0],\"type\":\"pie\"}],                        {\"height\":600,\"template\":{\"data\":{\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"title\":{\"text\":\"Number of tweets per location\"},\"width\":600},                        {\"responsive\": true}                    ).then(function(){\n","                            \n","var gd = document.getElementById('49bc2550-529b-462e-907f-bfd70e960307');\n","var x = new MutationObserver(function (mutations, observer) {{\n","        var display = window.getComputedStyle(gd).display;\n","        if (!display || display === 'none') {{\n","            console.log([gd, 'removed!']);\n","            Plotly.purge(gd);\n","            observer.disconnect();\n","        }}\n","}});\n","\n","// Listen for the removal of the full notebook cells\n","var notebookContainer = gd.closest('#notebook-container');\n","if (notebookContainer) {{\n","    x.observe(notebookContainer, {childList: true});\n","}}\n","\n","// Listen for the clearing of the current output cell\n","var outputEl = gd.closest('.output');\n","if (outputEl) {{\n","    x.observe(outputEl, {childList: true});\n","}}\n","\n","                        })                };                });            </script>        </div>"]},"metadata":{},"output_type":"display_data"}],"source":["from plotly.offline import init_notebook_mode, iplot\n","def pie_count(data, field, percent_limit, title):\n","    \n","    data[field] = data[field].fillna('NA')\n","    data = data[field].value_counts().to_frame()\n","\n","    total = data[field].sum()\n","    data['percentage'] = 100 * data[field]/total    \n","\n","    percent_limit = percent_limit\n","    otherdata = data[data['percentage'] < percent_limit] \n","    others = otherdata['percentage'].sum()  \n","    maindata = data[data['percentage'] >= percent_limit]\n","\n","    data = maindata\n","    other_label = \"Others(<\" + str(percent_limit) + \"% each)\"\n","    data.loc[other_label] = pd.Series({field:otherdata[field].sum()}) \n","    \n","    labels = data.index.tolist()   \n","    datavals = data[field].tolist()\n","    \n","    trace=go.Pie(labels=labels,values=datavals)\n","    \n","    layout = go.Layout(\n","        title = title,\n","        height=600,\n","        width=600\n","        )\n","    \n","    fig = go.Figure(data=[trace], layout=layout)\n","    iplot(fig)\n","    \n","pie_count(social, 'user_location', 0.5, 'Number of tweets per location')"]},{"cell_type":"markdown","id":"1a01c14e","metadata":{"papermill":{"duration":0.80229,"end_time":"2024-06-19T12:13:04.139907","exception":false,"start_time":"2024-06-19T12:13:03.337617","status":"completed"},"tags":[]},"source":["**Tweet per day**"]},{"cell_type":"code","execution_count":12,"id":"fae9bcc4","metadata":{"execution":{"iopub.execute_input":"2024-06-19T12:13:05.773887Z","iopub.status.busy":"2024-06-19T12:13:05.762253Z","iopub.status.idle":"2024-06-19T12:13:05.909666Z","shell.execute_reply":"2024-06-19T12:13:05.910242Z","shell.execute_reply.started":"2022-02-08T06:02:23.005335Z"},"papermill":{"duration":0.971019,"end_time":"2024-06-19T12:13:05.91046","exception":false,"start_time":"2024-06-19T12:13:04.939441","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<div>                            <div id=\"bac1d89a-2401-4344-a2bd-04e292235746\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"bac1d89a-2401-4344-a2bd-04e292235746\")) {                    Plotly.newPlot(                        \"bac1d89a-2401-4344-a2bd-04e292235746\",                        [{\"marker\":{\"color\":\"dodgerblue\"},\"mode\":\"markers+lines\",\"name\":\"Submissions\",\"x\":[\"2020-10-17T00:00:00\",\"2020-10-16T00:00:00\",\"2020-10-15T00:00:00\",\"2020-10-14T00:00:00\",\"2020-10-13T00:00:00\",\"2020-10-12T00:00:00\",\"2020-10-11T00:00:00\",\"2020-10-10T00:00:00\",\"2020-10-09T00:00:00\",\"2020-09-24T00:00:00\",\"2020-09-23T00:00:00\",\"2020-09-22T00:00:00\",\"2020-09-21T00:00:00\",\"2020-09-20T00:00:00\",\"2020-09-19T00:00:00\",\"2020-09-18T00:00:00\",\"2020-09-17T00:00:00\",\"2020-09-16T00:00:00\",\"2020-09-15T00:00:00\",\"2020-09-14T00:00:00\",\"2020-09-13T00:00:00\",\"2020-09-12T00:00:00\",\"2020-09-11T00:00:00\",\"2020-09-10T00:00:00\",\"2020-09-09T00:00:00\",\"2020-09-08T00:00:00\"],\"y\":[78,183,229,215,210,193,282,211,215,251,836,772,882,1179,1010,1216,1373,1426,1640,1818,2005,1494,1022,889,423,16],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"rgb(17,17,17)\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"bar\":[{\"error_x\":{\"color\":\"#f2f5fa\"},\"error_y\":{\"color\":\"#f2f5fa\"},\"marker\":{\"line\":{\"color\":\"rgb(17,17,17)\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#A2B1C6\",\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"minorgridcolor\":\"#506784\",\"startlinecolor\":\"#A2B1C6\"},\"baxis\":{\"endlinecolor\":\"#A2B1C6\",\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"minorgridcolor\":\"#506784\",\"startlinecolor\":\"#A2B1C6\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"line\":{\"color\":\"#283442\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatter\":[{\"marker\":{\"line\":{\"color\":\"#283442\"}},\"type\":\"scatter\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#506784\"},\"line\":{\"color\":\"rgb(17,17,17)\"}},\"header\":{\"fill\":{\"color\":\"#2a3f5f\"},\"line\":{\"color\":\"rgb(17,17,17)\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#f2f5fa\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#f2f5fa\"},\"geo\":{\"bgcolor\":\"rgb(17,17,17)\",\"lakecolor\":\"rgb(17,17,17)\",\"landcolor\":\"rgb(17,17,17)\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"#506784\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"dark\"},\"paper_bgcolor\":\"rgb(17,17,17)\",\"plot_bgcolor\":\"rgb(17,17,17)\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"ticks\":\"\"},\"bgcolor\":\"rgb(17,17,17)\",\"radialaxis\":{\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"rgb(17,17,17)\",\"gridcolor\":\"#506784\",\"gridwidth\":2,\"linecolor\":\"#506784\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#C8D4E3\"},\"yaxis\":{\"backgroundcolor\":\"rgb(17,17,17)\",\"gridcolor\":\"#506784\",\"gridwidth\":2,\"linecolor\":\"#506784\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#C8D4E3\"},\"zaxis\":{\"backgroundcolor\":\"rgb(17,17,17)\",\"gridcolor\":\"#506784\",\"gridwidth\":2,\"linecolor\":\"#506784\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#C8D4E3\"}},\"shapedefaults\":{\"line\":{\"color\":\"#f2f5fa\"}},\"sliderdefaults\":{\"bgcolor\":\"#C8D4E3\",\"bordercolor\":\"rgb(17,17,17)\",\"borderwidth\":1,\"tickwidth\":0},\"ternary\":{\"aaxis\":{\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"ticks\":\"\"},\"bgcolor\":\"rgb(17,17,17)\",\"caxis\":{\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"updatemenudefaults\":{\"bgcolor\":\"#506784\",\"borderwidth\":0},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"#283442\",\"linecolor\":\"#506784\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"#283442\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"#283442\",\"linecolor\":\"#506784\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"#283442\",\"zerolinewidth\":2}}},\"title\":{\"text\":\"Tweets per Day : (16/09/2020 - 17/10/2020)\",\"x\":0.5}},                        {\"responsive\": true}                    ).then(function(){\n","                            \n","var gd = document.getElementById('bac1d89a-2401-4344-a2bd-04e292235746');\n","var x = new MutationObserver(function (mutations, observer) {{\n","        var display = window.getComputedStyle(gd).display;\n","        if (!display || display === 'none') {{\n","            console.log([gd, 'removed!']);\n","            Plotly.purge(gd);\n","            observer.disconnect();\n","        }}\n","}});\n","\n","// Listen for the removal of the full notebook cells\n","var notebookContainer = gd.closest('#notebook-container');\n","if (notebookContainer) {{\n","    x.observe(notebookContainer, {childList: true});\n","}}\n","\n","// Listen for the clearing of the current output cell\n","var outputEl = gd.closest('.output');\n","if (outputEl) {{\n","    x.observe(outputEl, {childList: true});\n","}}\n","\n","                        })                };                });            </script>        </div>"]},"metadata":{},"output_type":"display_data"}],"source":["social['tweet_date']=pd.to_datetime(social['date']).dt.date\n","tweet_date=social['tweet_date'].value_counts().to_frame().reset_index().rename(columns={'index':'date','tweet_date':'count'})\n","tweet_date['date']=pd.to_datetime(tweet_date['date'])\n","tweet_date=tweet_date.sort_values('date',ascending=False)\n","fig=go.Figure(go.Scatter(x=tweet_date['date'],\n","                                y=tweet_date['count'],\n","                               mode='markers+lines',\n","                               name=\"Submissions\",\n","                               marker_color='dodgerblue'))\n","\n","fig.update_layout(\n","    title_text='Tweets per Day : ({} - {})'.format(social['tweet_date'].sort_values()[0].strftime(\"%d/%m/%Y\"),\n","                                                       social['tweet_date'].sort_values().iloc[-1].strftime(\"%d/%m/%Y\")),template=\"plotly_dark\",\n","    title_x=0.5)\n","\n","fig.show()\n"]},{"cell_type":"markdown","id":"05724b45","metadata":{"papermill":{"duration":0.807069,"end_time":"2024-06-19T12:13:07.535617","exception":false,"start_time":"2024-06-19T12:13:06.728548","status":"completed"},"tags":[]},"source":["**Refining the text **"]},{"cell_type":"code","execution_count":13,"id":"126c92b6","metadata":{"execution":{"iopub.execute_input":"2024-06-19T12:13:09.158245Z","iopub.status.busy":"2024-06-19T12:13:09.157267Z","iopub.status.idle":"2024-06-19T12:13:09.160279Z","shell.execute_reply":"2024-06-19T12:13:09.159688Z","shell.execute_reply.started":"2022-02-08T06:02:23.156336Z"},"papermill":{"duration":0.825519,"end_time":"2024-06-19T12:13:09.16045","exception":false,"start_time":"2024-06-19T12:13:08.334931","status":"completed"},"tags":[]},"outputs":[],"source":["def remove_tag(string):\n","    text=re.sub('<.*?>','',string)\n","    return text\n","def remove_mention(text):\n","    line=re.sub(r'@\\w+','',text)\n","    return line\n","def remove_hash(text):\n","    line=re.sub(r'#\\w+','',text)\n","    return line\n","\n","def remove_newline(string):\n","    text=re.sub('\\n','',string)\n","    return text\n","def remove_url(string): \n","    text = re.sub('http[s]?://(?:[a-zA-Z]|[0-9]|[$-_@.&+]|[!*\\(\\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+','',string)\n","    return text\n","def remove_number(text):\n","    line=re.sub(r'[0-9]+','',text)\n","    return line\n","def remove_punct(text):\n","    line = re.sub(r'[!\"\\$%&\\'()*+,\\-.\\/:;=#@?\\[\\\\\\]^_`{|}~]*','',text)\n","    return line\n","def text_strip(string):\n","    line=re.sub('\\s{2,}', ' ', string.strip())\n","    return line\n","def remove_thi_amp_ha_words(string):\n","    line=re.sub(r'\\bamp\\b|\\bthi\\b|\\bha\\b',' ',string)\n","    return line"]},{"cell_type":"markdown","id":"c6324024","metadata":{"papermill":{"duration":0.805174,"end_time":"2024-06-19T12:13:10.776637","exception":false,"start_time":"2024-06-19T12:13:09.971463","status":"completed"},"tags":[]},"source":["**N-GRAM**"]},{"cell_type":"code","execution_count":14,"id":"42752e25","metadata":{"execution":{"iopub.execute_input":"2024-06-19T12:13:12.471676Z","iopub.status.busy":"2024-06-19T12:13:12.450509Z","iopub.status.idle":"2024-06-19T12:13:17.505599Z","shell.execute_reply":"2024-06-19T12:13:17.505009Z","shell.execute_reply.started":"2022-02-08T06:02:23.170325Z"},"papermill":{"duration":5.89002,"end_time":"2024-06-19T12:13:17.505754","exception":false,"start_time":"2024-06-19T12:13:11.615734","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<div>                            <div id=\"d7ea96a7-6902-4b72-97a3-7343a4d4c9ed\" class=\"plotly-graph-div\" style=\"height:1200px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"d7ea96a7-6902-4b72-97a3-7343a4d4c9ed\")) {                    Plotly.newPlot(                        \"d7ea96a7-6902-4b72-97a3-7343a4d4c9ed\",                        [{\"marker\":{\"color\":\"blue\"},\"name\":\"Months\",\"orientation\":\"h\",\"text\":[4754.0,4450.0,2782.0,2343.0,2181.0,1963.0,1778.0,1550.0,1543.0,1209.0,813.0,802.0,765.0,709.0,646.0,590.0,587.0,539.0,519.0,492.0],\"textposition\":\"outside\",\"x\":[492,519,539,587,590,646,709,765,802,813,1209,1543,1550,1778,1963,2181,2343,2782,4450,4754],\"y\":[\"need\",\"recommend\",\"paying\",\"think\",\"really\",\"time\",\"twitter\",\"like\",\"know\",\"people\",\"product\",\"dilemma\",\"documentary\",\"just\",\"watched\",\"netflix\",\"watching\",\"media\",\"watch\",\"social\"],\"type\":\"bar\",\"xaxis\":\"x\",\"yaxis\":\"y\"},{\"marker\":{\"color\":\"blue\"},\"name\":\"Days\",\"orientation\":\"h\",\"text\":[2657.0,1482.0,676.0,481.0,471.0,444.0,366.0,361.0,264.0,260.0,237.0,227.0,226.0,224.0,224.0,223.0,214.0,211.0,207.0,205.0],\"textposition\":\"outside\",\"x\":[205,207,211,214,223,224,224,226,227,237,260,264,361,366,444,471,481,676,1482,2657],\"y\":[\"watch documentary\",\"drugs software\",\"safe online\",\"ourpact keeping\",\"keeping kids\",\"users illegal\",\"finished watching\",\"illegal drugs\",\"kids safe\",\"customers users\",\"highly recommend\",\"just finished\",\"dilemma netflix\",\"watch social\",\"product product\",\"watch netflix\",\"paying product\",\"just watched\",\"social dilemma\",\"social media\"],\"type\":\"bar\",\"xaxis\":\"x2\",\"yaxis\":\"y2\"},{\"marker\":{\"color\":\"blue\"},\"name\":\"Days\",\"orientation\":\"h\",\"text\":[407.0,360.0,288.0,223.0,218.0,214.0,212.0,211.0,197.0,181.0,179.0,177.0,164.0,160.0,156.0,121.0,120.0,98.0,90.0,81.0],\"textposition\":\"outside\",\"x\":[81,90,98,120,121,156,160,164,177,179,181,197,211,212,214,218,223,288,360,407],\"y\":[\"using social media\",\"just watched netflix\",\"drugs software edward\",\"million families ourpact\",\"youre paying product\",\"online million families\",\"watching social dilemma\",\"watched social dilemma\",\"just finished watching\",\"industries customers users\",\"safe online million\",\"illegal drugs software\",\"kids safe online\",\"ourpact keeping kids\",\"customers users illegal\",\"users illegal drugs\",\"keeping kids safe\",\"watch social dilemma\",\"social dilemma netflix\",\"paying product product\"],\"type\":\"bar\",\"xaxis\":\"x3\",\"yaxis\":\"y3\"}],                        {\"template\":{\"data\":{\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"rgb(17,17,17)\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"bar\":[{\"error_x\":{\"color\":\"#f2f5fa\"},\"error_y\":{\"color\":\"#f2f5fa\"},\"marker\":{\"line\":{\"color\":\"rgb(17,17,17)\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#A2B1C6\",\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"minorgridcolor\":\"#506784\",\"startlinecolor\":\"#A2B1C6\"},\"baxis\":{\"endlinecolor\":\"#A2B1C6\",\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"minorgridcolor\":\"#506784\",\"startlinecolor\":\"#A2B1C6\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"line\":{\"color\":\"#283442\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatter\":[{\"marker\":{\"line\":{\"color\":\"#283442\"}},\"type\":\"scatter\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#506784\"},\"line\":{\"color\":\"rgb(17,17,17)\"}},\"header\":{\"fill\":{\"color\":\"#2a3f5f\"},\"line\":{\"color\":\"rgb(17,17,17)\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#f2f5fa\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#f2f5fa\"},\"geo\":{\"bgcolor\":\"rgb(17,17,17)\",\"lakecolor\":\"rgb(17,17,17)\",\"landcolor\":\"rgb(17,17,17)\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"#506784\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"dark\"},\"paper_bgcolor\":\"rgb(17,17,17)\",\"plot_bgcolor\":\"rgb(17,17,17)\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"ticks\":\"\"},\"bgcolor\":\"rgb(17,17,17)\",\"radialaxis\":{\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"rgb(17,17,17)\",\"gridcolor\":\"#506784\",\"gridwidth\":2,\"linecolor\":\"#506784\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#C8D4E3\"},\"yaxis\":{\"backgroundcolor\":\"rgb(17,17,17)\",\"gridcolor\":\"#506784\",\"gridwidth\":2,\"linecolor\":\"#506784\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#C8D4E3\"},\"zaxis\":{\"backgroundcolor\":\"rgb(17,17,17)\",\"gridcolor\":\"#506784\",\"gridwidth\":2,\"linecolor\":\"#506784\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#C8D4E3\"}},\"shapedefaults\":{\"line\":{\"color\":\"#f2f5fa\"}},\"sliderdefaults\":{\"bgcolor\":\"#C8D4E3\",\"bordercolor\":\"rgb(17,17,17)\",\"borderwidth\":1,\"tickwidth\":0},\"ternary\":{\"aaxis\":{\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"ticks\":\"\"},\"bgcolor\":\"rgb(17,17,17)\",\"caxis\":{\"gridcolor\":\"#506784\",\"linecolor\":\"#506784\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"updatemenudefaults\":{\"bgcolor\":\"#506784\",\"borderwidth\":0},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"#283442\",\"linecolor\":\"#506784\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"#283442\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"#283442\",\"linecolor\":\"#506784\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"#283442\",\"zerolinewidth\":2}}},\"xaxis\":{\"anchor\":\"y\",\"domain\":[0.0,1.0],\"showline\":true,\"linewidth\":2,\"linecolor\":\"black\",\"mirror\":true,\"title\":{\"text\":\" \"}},\"yaxis\":{\"anchor\":\"x\",\"domain\":[0.7777777777777778,1.0],\"showline\":true,\"linewidth\":2,\"linecolor\":\"black\",\"mirror\":true,\"title\":{\"text\":\" \"}},\"xaxis2\":{\"anchor\":\"y2\",\"domain\":[0.0,1.0],\"showline\":true,\"linewidth\":2,\"linecolor\":\"black\",\"mirror\":true},\"yaxis2\":{\"anchor\":\"x2\",\"domain\":[0.3888888888888889,0.6111111111111112],\"showline\":true,\"linewidth\":2,\"linecolor\":\"black\",\"mirror\":true},\"xaxis3\":{\"anchor\":\"y3\",\"domain\":[0.0,1.0],\"showline\":true,\"linewidth\":2,\"linecolor\":\"black\",\"mirror\":true},\"yaxis3\":{\"anchor\":\"x3\",\"domain\":[0.0,0.22222222222222224],\"showline\":true,\"linewidth\":2,\"linecolor\":\"black\",\"mirror\":true},\"annotations\":[{\"font\":{\"size\":16},\"showarrow\":false,\"text\":\"Unigram\",\"x\":0.5,\"xanchor\":\"center\",\"xref\":\"paper\",\"y\":1.0,\"yanchor\":\"bottom\",\"yref\":\"paper\"},{\"font\":{\"size\":16},\"showarrow\":false,\"text\":\"Bigram\",\"x\":0.5,\"xanchor\":\"center\",\"xref\":\"paper\",\"y\":0.6111111111111112,\"yanchor\":\"bottom\",\"yref\":\"paper\"},{\"font\":{\"size\":16},\"showarrow\":false,\"text\":\"Trigram\",\"x\":0.5,\"xanchor\":\"center\",\"xref\":\"paper\",\"y\":0.22222222222222224,\"yanchor\":\"bottom\",\"yref\":\"paper\"}],\"title\":{\"text\":\"Top N Grams\",\"x\":0.5},\"showlegend\":false,\"height\":1200},                        {\"responsive\": true}                    ).then(function(){\n","                            \n","var gd = document.getElementById('d7ea96a7-6902-4b72-97a3-7343a4d4c9ed');\n","var x = new MutationObserver(function (mutations, observer) {{\n","        var display = window.getComputedStyle(gd).display;\n","        if (!display || display === 'none') {{\n","            console.log([gd, 'removed!']);\n","            Plotly.purge(gd);\n","            observer.disconnect();\n","        }}\n","}});\n","\n","// Listen for the removal of the full notebook cells\n","var notebookContainer = gd.closest('#notebook-container');\n","if (notebookContainer) {{\n","    x.observe(notebookContainer, {childList: true});\n","}}\n","\n","// Listen for the clearing of the current output cell\n","var outputEl = gd.closest('.output');\n","if (outputEl) {{\n","    x.observe(outputEl, {childList: true});\n","}}\n","\n","                        })                };                });            </script>        </div>"]},"metadata":{},"output_type":"display_data"}],"source":["social['refine_text']=social['text'].str.lower()\n","social['refine_text']=social['refine_text'].apply(lambda x:remove_tag(str(x)))\n","social['refine_text']=social['refine_text'].apply(lambda x:remove_mention(str(x)))\n","social['refine_text']=social['refine_text'].apply(lambda x:remove_hash(str(x)))\n","social['refine_text']=social['refine_text'].apply(lambda x:remove_newline(x))\n","social['refine_text']=social['refine_text'].apply(lambda x:remove_url(x))\n","social['refine_text']=social['refine_text'].apply(lambda x:remove_number(x))\n","social['refine_text']=social['refine_text'].apply(lambda x:remove_punct(x))\n","social['refine_text']=social['refine_text'].apply(lambda x:remove_thi_amp_ha_words(x))\n","social['refine_text']=social['refine_text'].apply(lambda x:text_strip(x))\n","\n","social['text_length']=social['refine_text'].str.split().map(lambda x: len(x))\n","def ngram_df(corpus,nrange,n=None):\n","    vec = CountVectorizer(stop_words = 'english',ngram_range=nrange).fit(corpus)\n","    bag_of_words = vec.transform(corpus)\n","    sum_words = bag_of_words.sum(axis=0) \n","    words_freq = [(word, sum_words[0, idx]) for word, idx in vec.vocabulary_.items()]\n","    words_freq =sorted(words_freq, key = lambda x: x[1], reverse=True)\n","    total_list=words_freq[:n]\n","    df=pd.DataFrame(total_list,columns=['text','count'])\n","    return df\n","unigram_df=ngram_df(social['refine_text'],(1,1),20)\n","bigram_df=ngram_df(social['refine_text'],(2,2),20)\n","trigram_df=ngram_df(social['refine_text'],(3,3),20)\n","fig = make_subplots(\n","    rows=3, cols=1,subplot_titles=(\"Unigram\",\"Bigram\",'Trigram'),\n","    specs=[[{\"type\": \"scatter\"}],\n","           [{\"type\": \"scatter\"}],\n","           [{\"type\": \"scatter\"}]\n","          ])\n","\n","fig.add_trace(go.Bar(\n","    y=unigram_df['text'][::-1],\n","    x=unigram_df['count'][::-1],\n","    marker={'color': \"blue\"},  \n","    text=unigram_df['count'],\n","    textposition = \"outside\",\n","    orientation=\"h\",\n","    name=\"Months\",\n","),row=1,col=1)\n","\n","fig.add_trace(go.Bar(\n","    y=bigram_df['text'][::-1],\n","    x=bigram_df['count'][::-1],\n","    marker={'color': \"blue\"},  \n","    text=bigram_df['count'],\n","     name=\"Days\",\n","    textposition = \"outside\",\n","    orientation=\"h\",\n","),row=2,col=1)\n","\n","fig.add_trace(go.Bar(\n","    y=trigram_df['text'][::-1],\n","    x=trigram_df['count'][::-1],\n","    marker={'color': \"blue\"},  \n","    text=trigram_df['count'],\n","     name=\"Days\",\n","    orientation=\"h\",\n","    textposition = \"outside\",\n","),row=3,col=1)\n","\n","fig.update_xaxes(showline=True, linewidth=2, linecolor='black', mirror=True)\n","fig.update_yaxes(showline=True, linewidth=2, linecolor='black', mirror=True)\n","fig.update_layout(title_text='Top N Grams',xaxis_title=\" \",yaxis_title=\" \",\n","                  showlegend=False,title_x=0.5,height=1200,template=\"plotly_dark\")\n","fig.show()\n"]},{"cell_type":"markdown","id":"81c88702","metadata":{"papermill":{"duration":0.807789,"end_time":"2024-06-19T12:13:19.125948","exception":false,"start_time":"2024-06-19T12:13:18.318159","status":"completed"},"tags":[]},"source":["* social, watch, and media are the most used unigrams\n","* social media, social dilemma, just watched are the most used bigrams in the social dilemma tweets\n","* social dilemma neflix, wach social dilemma, keepin kids safe, kids safe online are the most used trigrams!"]}],"metadata":{"kaggle":{"accelerator":"gpu","dataSources":[{"datasetId":877017,"sourceId":1942361,"sourceType":"datasetVersion"}],"dockerImageVersionId":30157,"isGpuEnabled":true,"isInternetEnabled":true,"language":"python","sourceType":"notebook"},"kernelspec":{"display_name":"Python 3","language":"python","name":"python3"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.7.12"},"papermill":{"default_parameters":{},"duration":189.143504,"end_time":"2024-06-19T12:13:23.60025","environment_variables":{},"exception":null,"input_path":"__notebook__.ipynb","output_path":"__notebook__.ipynb","parameters":{},"start_time":"2024-06-19T12:10:14.456746","version":"2.3.3"}},"nbformat":4,"nbformat_minor":5}